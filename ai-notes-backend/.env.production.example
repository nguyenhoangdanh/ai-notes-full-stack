# AI Notes Backend Production Environment Configuration
# Use this as a template for production deployment

# =============================================================================
# CORE APPLICATION CONFIGURATION
# =============================================================================

# Server Port (usually set by hosting platform)
PORT=${PORT}

# Environment
NODE_ENV=production

# Frontend URL (your production domain)
FRONTEND_URL=https://your-app.vercel.app

# =============================================================================
# DATABASE CONFIGURATION (Production)
# =============================================================================

# Main Database URL (use connection pooling in production)
DATABASE_URL=${DATABASE_URL}

# Direct Database URL (for migrations)
DIRECT_URL=${DIRECT_URL}

# =============================================================================
# AUTHENTICATION & SECURITY (Production)
# =============================================================================

# JWT Secret (MUST be a strong random string)
JWT_SECRET=${JWT_SECRET}

# JWT Token Expiration
JWT_EXPIRES_IN=7d

# Cookie Security Settings (HTTPS required)
COOKIE_SECURE=true
COOKIE_DOMAIN=

# CORS Origins (production domains only)
CORS_ORIGINS=https://your-app.vercel.app,https://your-domain.com

# =============================================================================
# GOOGLE OAUTH CONFIGURATION (Production)
# =============================================================================

# Google OAuth Production Credentials
GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
GOOGLE_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}

# =============================================================================
# EXTERNAL SERVICES (Production)
# =============================================================================

# Firebase Configuration (production project)
FIREBASE_PROJECT_ID=${FIREBASE_PROJECT_ID}
FIREBASE_SERVICE_ACCOUNT=${FIREBASE_SERVICE_ACCOUNT}
FIREBASE_STORAGE_BUCKET=${FIREBASE_STORAGE_BUCKET}
FIREBASE_CLIENT_EMAIL=${FIREBASE_CLIENT_EMAIL}
FIREBASE_PRIVATE_KEY=${FIREBASE_PRIVATE_KEY}

# Cloudflare R2 Storage (production)
R2_ACCOUNT_ID=${R2_ACCOUNT_ID}
R2_ACCESS_KEY_ID=${R2_ACCESS_KEY_ID}
R2_SECRET_ACCESS_KEY=${R2_SECRET_ACCESS_KEY}
R2_BUCKET_NAME=${R2_BUCKET_NAME}
R2_PUBLIC_URL=${R2_PUBLIC_URL}

# =============================================================================
# AI SERVICES CONFIGURATION (Production)
# =============================================================================

# OpenAI API Configuration
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4000

# Google AI Configuration
GOOGLE_AI_API_KEY=${GOOGLE_AI_API_KEY}
GOOGLE_AI_MODEL=gemini-1.5-flash

# =============================================================================
# REDIS CONFIGURATION (Production)
# =============================================================================

# Redis URL (use managed Redis in production)
REDIS_URL=${REDIS_URL}
REDIS_PASSWORD=${REDIS_PASSWORD}

# =============================================================================
# EMAIL CONFIGURATION (Production)
# =============================================================================

# SMTP Configuration (use production email service)
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASS}

# Email Templates
EMAIL_FROM="AI Notes <noreply@your-domain.com>"

# =============================================================================
# MONITORING & LOGGING (Production)
# =============================================================================

# Log Level (info or warn in production)
LOG_LEVEL=info

# Sentry DSN (for error tracking)
SENTRY_DSN=${SENTRY_DSN}

# =============================================================================
# SECURITY & PERFORMANCE (Production)
# =============================================================================

# File Storage Configuration
UPLOAD_DIR=/tmp/uploads
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,txt,md,mp3,wav,m4a

# Security Headers
TRUST_PROXY=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000

# =============================================================================
# DEPLOYMENT PLATFORM SPECIFIC
# =============================================================================

# Railway Specific
RAILWAY_ENVIRONMENT=${RAILWAY_ENVIRONMENT}
RAILWAY_PROJECT_ID=${RAILWAY_PROJECT_ID}

# Heroku Specific
HEROKU_APP_NAME=${HEROKU_APP_NAME}
HEROKU_SLUG_COMMIT=${HEROKU_SLUG_COMMIT}

# AWS/DigitalOcean Specific
AWS_REGION=${AWS_REGION}
DO_REGION=${DO_REGION}

# =============================================================================
# PRODUCTION OPTIMIZATIONS
# =============================================================================

# Database Connection Pool
DB_POOL_SIZE=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=60000

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Worker Configuration  
WORKER_CONCURRENCY=4
QUEUE_MAX_JOBS=1000

# Disable development features
DEBUG=false
PUPPETEER_SKIP_DOWNLOAD=true
NEXT_TELEMETRY_DISABLED=1